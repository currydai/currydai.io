<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8" >

<title>【编程】python编程规范(Google) | Currydai</title>

<meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1, user-scalable=no">

<link rel="stylesheet" href="https://use.fontawesome.com/releases/v5.7.2/css/all.css" integrity="sha384-fnmOCqbTlWIlj8LyTjo7mOUStjsKC4pOpQbqyi7RrhN7udi9RwhKkMHpvLbHG9Sr" crossorigin="anonymous">
<link rel="shortcut icon" href="https://currydai.com/favicon.ico?v=1621440940177">
<link rel="stylesheet" href="https://currydai.com/styles/main.css">


  
    <link rel="stylesheet" href="https://unpkg.com/gitalk/dist/gitalk.css" />
  

  


<link rel="stylesheet" href="https://unpkg.com/aos@next/dist/aos.css" />
<script src="https://cdn.jsdelivr.net/npm/vue/dist/vue.js"></script>



    <meta name="description" content="目录
1. 分号
2. 行长度
3. 括号
4. 缩进
5. 空行
6. 空格
7. 注释
8. 类
9. 字符串
10. 文件和sockets
11. TODO注释
12. 导入格式
13. 语句
14. 访问控制
15. 命名
16. ..." />
    <meta name="keywords" content="" />
  </head>
  <body>
    <div id="app" class="main">

      <div class="sidebar" :class="{ 'full-height': menuVisible }">
  <div class="top-container" data-aos="fade-right">
    <div class="top-header-container">
      <a class="site-title-container" href="https://currydai.com">
        <img src="https://currydai.com/images/avatar.png?v=1621440940177" class="site-logo">
        <h1 class="site-title">Currydai</h1>
      </a>
      <div class="menu-btn" @click="menuVisible = !menuVisible">
        <div class="line"></div>
      </div>
    </div>
    <div>
      
        
          <a href="/" class="site-nav">
            Home
          </a>
        
      
        
          <a href="/archives" class="site-nav">
            Table of Contents
          </a>
        
      
        
          <a href="/tags" class="site-nav">
            Classification label
          </a>
        
      
        
          <a href="/post/about" class="site-nav">
            About me
          </a>
        
      
    </div>
  </div>
  <div class="bottom-container" data-aos="flip-up" data-aos-offset="0">
    <div class="social-container">
      
        
          <a class="social-link" href="http://currydai@github.com/" target="_blank">
            <i class="fab fa-github"></i>
          </a>
        
      
        
          <a class="social-link" href="https://twitter.com/daihb30" target="_blank">
            <i class="fab fa-twitter"></i>
          </a>
        
      
        
          <a class="social-link" href="https://weibo.com/u/5951669823" target="_blank">
            <i class="fab fa-weibo"></i>
          </a>
        
      
        
          <a class="social-link" href="https://www.zhihu.com/people/ka-li-35-76" target="_blank">
            <i class="fab fa-zhihu"></i>
          </a>
        
      
        
      
    </div>
    <div class="site-description">
      Share interesting things
    </div>
    <div class="site-footer">
      Powered by <a href="http://currydai@github.com/" target="_blank">Currydai</a> | <a class="rss" href="https://currydai.com/atom.xml" target="_blank">RSS</a>
    </div>
  </div>
</div>


      <div class="main-container">
        <div class="content-container" data-aos="fade-up">
          <div class="post-detail">
            <h2 class="post-title">【编程】python编程规范(Google)</h2>
            <div class="post-date">2021-05-19</div>
            
            <div class="post-content" v-pre>
              <h3 id="目录">目录</h3>
<pre><code>1. 分号
2. 行长度
3. 括号
4. 缩进
5. 空行
6. 空格
7. 注释
8. 类
9. 字符串
10. 文件和sockets
11. TODO注释
12. 导入格式
13. 语句
14. 访问控制
15. 命名
16. Main
</code></pre>
<h4 id="1分号">1.分号</h4>
<p>python中永远不要使用分号！</p>
<h4 id="2行长度">2.行长度</h4>
<p>规则：</p>
<ul>
<li>每行不超过80个字符</li>
<li>不要使用反斜杠连接行</li>
<li>利用逗号可以隔开多个物理行</li>
<li>如果一个文本字符串在一行放不下, 可以使用圆括号来实现隐式行连接<br>
特殊情况：</li>
<li>长的导入模块语句</li>
<li>注释里的URL</li>
</ul>
<h4 id="3括号">3.括号</h4>
<p>规则：</p>
<ul>
<li>宁缺毋滥的使用括号</li>
<li>不要在返回语句或条件语句中使用括号</li>
</ul>
<h4 id="4缩进">4.缩进</h4>
<p>规则：</p>
<ul>
<li>用4个空格来缩进代码</li>
<li>绝对不要用tab, 也不要tab和空格混用</li>
</ul>
<h4 id="5-空行">5. 空行</h4>
<p>规则：</p>
<ul>
<li>顶级定义之间空两行：函数与类定义之间</li>
<li>方法定义之间空一行：类定义与类方法之间</li>
</ul>
<h4 id="6空格">6.空格</h4>
<p>规则：</p>
<ul>
<li>不要在<strong>逗号, 分号, 冒号</strong>前面加空格, 但应该在它们<strong>后面加</strong><br>
Yes: spam(ham[1], {eggs: 2}, [])<br>
No:  spam( ham[ 1 ], { eggs: 2 }, [ ] )</li>
<li>在二元操作符两边都加上一个空格, 比如赋值(=), 比较(<mark>, &lt;, &gt;, !=, &lt;&gt;, &lt;=, &gt;=, in, not in, is, is not), 布尔(and, or, not).<br>
Yes: x == 1<br>
No:  x</mark>1</li>
<li>当'='用于指示关键字参数或默认参数值时, 不要在其两侧使用空格.<br>
Yes: def complex(real, imag=0.0): return magic(r=real, i=imag)<br>
No:  def complex(real, imag = 0.0): return magic(r = real, i = imag)</li>
</ul>
<h4 id="7注释">7.注释</h4>
<p>确保对模块, 函数, 方法和行内注释使用正确的风格。<br>
规则：</p>
<ul>
<li>
<p>(1)文档字符串：对文档字符串的惯例是使用三重双引号&quot;&quot;&quot;<br>
一个文档字符串应该这样组织: 首先是一行以句号, 问号或惊叹号结尾的概述(或者该文档字符串单纯只有一行). 接着是一个空行. 接着是文档字符串剩下的部分, 它应该与文档字符串的第一行的第一个引号对齐. 文档字符串应该包含函数做什么, 以及输入和输出的详细描述. 通常, 不应该描述&quot;怎么做&quot;,对于复杂的代码, 在代码旁边加注释会比使用文档字符串更有意义.</p>
</li>
<li>
<p>(2)模块：每个文件应该包含一个许可样板. 根据项目使用的许可(例如, Apache 2.0, BSD, LGPL, GPL), 选择合适的样板.</p>
</li>
<li>
<p>(3)函数与方法：<br>
Args:<br>
列出每个参数的名字, 并在名字后使用一个冒号和一个空格, 分隔对该参数的描述.<br>
Returns: (或者 Yields: 用于生成器)<br>
描述返回值的类型和语义. 如果函数返回None, 这一部分可以省略.<br>
Raises:<br>
列出与接口有关的所有异常。<br>
&quot;&quot;&quot;<br>
def fetch_bigtable_rows(big_table, keys, other_silly_variable=None):<br>
&quot;&quot;&quot;Fetches rows from a Bigtable.</p>
<pre><code>  Retrieves rows pertaining to the given keys from the Table instance
  represented by big_table.  Silly things may happen if
  other_silly_variable is not None.

  Args:
      big_table: An open Bigtable Table instance.
      keys: A sequence of strings representing the key of each table row
          to fetch.
      other_silly_variable: Another optional variable, that has a much
          longer name than the other args, and which does nothing.

  Returns:
      A dict mapping keys to the corresponding table row data
      fetched. Each row is represented as a tuple of strings. For
      example:

      {'Serak': ('Rigel VII', 'Preparer'),
      'Zim': ('Irk', 'Invader'),
      'Lrrr': ('Omicron Persei 8', 'Emperor')}

      If a key from the keys argument is missing from the dictionary,
      then that row was not found in the table.

  Raises:
      IOError: An error occurred accessing the bigtable.Table object.
  &quot;&quot;&quot;
  pass
</code></pre>
<p>&quot;&quot;&quot;</p>
</li>
<li>
<p>(4)类<br>
类应该在其定义下有一个用于描述该类的文档字符串. 如果你的类有公共属性(Attributes), 那么文档中应该有一个属性(Attributes)段. 并且应该遵守和函数参数相同的格式.</p>
<p>class SampleClass(object):<br>
&quot;&quot;&quot;Summary of class here.</p>
<pre><code>Longer class information....
Longer class information....

Attributes:
    likes_spam: A boolean indicating if we like SPAM or not.
    eggs: An integer count of the eggs we have laid.
&quot;&quot;&quot;

def __init__(self, likes_spam=False):
    &quot;&quot;&quot;Inits SampleClass with blah.&quot;&quot;&quot;
    self.likes_spam = likes_spam
    self.eggs = 0

def public_method(self):
    &quot;&quot;&quot;Performs operation blah.&quot;&quot;&quot;
</code></pre>
<ul>
<li>(5)块注释和行注释<br>
最需要写注释的是代码中那些技巧性的部分. 如果你在下次 代码审查 的时候必须解释一下, 那么你应该现在就给它写注释. 对于复杂的操作, 应该在其操作开始前写上若干行注释. 对于不是一目了然的代码, 应在其行尾添加注释.</li>
</ul>
<h1 id="we-use-a-weighted-dictionary-search-to-find-out-where-i-is-in">We use a weighted dictionary search to find out where i is in</h1>
<h1 id="the-array-we-extrapolate-position-based-on-the-largest-num">the array.  We extrapolate position based on the largest num</h1>
<h1 id="in-the-array-and-the-array-size-and-then-do-binary-search-to">in the array and the array size and then do binary search to</h1>
<h1 id="get-the-exact-number">get the exact number.</h1>
<p>if i &amp; (i-1) == 0:        # true iff i is a power of 2</p>
</li>
</ul>
<h4 id="8-类">8. 类</h4>
<p>规则：</p>
<ul>
<li>如果一个类不继承自其它类, 就显式的从object继承. 嵌套类也一样.<br>
Yes:class SampleClass(object):</li>
</ul>
<h4 id="9字符串">9.字符串</h4>
<p>规则：</p>
<ul>
<li>避免在循环中用+和+=操作符来累加字符串.<br>
作为替代方案, 你可以将每个子串加入列表, 然后在循环结束后用 .join 连接列表</li>
</ul>
<h4 id="10文件和sockets">10.文件和sockets</h4>
<p>规则：</p>
<ul>
<li>在文件和sockets结束时, 显式的关闭它.<br>
推荐使用 &quot;with&quot;语句 以管理文件:<br>
with open(&quot;hello.txt&quot;) as hello_file:<br>
for line in hello_file:<br>
print line</li>
</ul>
<h4 id="11todo注释">11.TODO注释</h4>
<p>规则：</p>
<ul>
<li>TODO注释应该在所有开头处包含&quot;TODO&quot;字符串, 紧跟着是用括号括起来的你的名字, email地址或其它标识符. 然后是一个可选的冒号. 接着必须有一行注释, 解释要做什么.
<h1 id="todoklgmailcom-use-a-here-for-string-repetition">TODO(kl@gmail.com): Use a &quot;*&quot; here for string repetition.</h1>
<h1 id="todozeke-change-this-to-use-relations">TODO(Zeke) Change this to use relations.</h1>
</li>
</ul>
<h4 id="12-导入格式">12. 导入格式</h4>
<p>规则：</p>
<ul>
<li>每个导入应该独占一行<br>
导入总应该放在文件顶部, 位于模块注释和文档字符串之后, 模块全局变量和常量之前. 导入应该按照从最通用到最不通用的顺序分组:标准库导入，第三方库导入，应用程序指定导入</li>
</ul>
<h4 id="13-语句">13. 语句</h4>
<p>规则：</p>
<ul>
<li>通常每个语句应该独占一行</li>
</ul>
<h4 id="14访问控制">14.访问控制</h4>
<p>规则：</p>
<ul>
<li>在Python中, 对于琐碎又不太重要的访问函数, 你应该直接使用公有变量来取代它们, 这样可以避免额外的函数调用开销. 当添加更多功能时, 你可以用属性(property)来保持语法的一致性.</li>
</ul>
<p>(译者注: 重视封装的面向对象程序员看到这个可能会很反感, 因为他们一直被教育: 所有成员变量都必须是私有的! 其实, 那真的是有点麻烦啊. 试着去接受Pythonic哲学吧)</p>
<p>另一方面, 如果访问更复杂, 或者变量的访问开销很显著, 那么你应该使用像 get_foo() 和 set_foo() 这样的函数调用. 如果之前的代码行为允许通过属性(property)访问 , 那么就不要将新的访问函数与属性绑定. 这样, 任何试图通过老方法访问变量的代码就没法运行, 使用者也就会意识到复杂性发生了变化.</p>
<h4 id="15命名">15.命名</h4>
<p>规则：</p>
<ul>
<li>所谓&quot;内部(Internal)&quot;表示仅模块内可用, 或者, 在类内是保护或私有的.</li>
<li>用单下划线(_)开头表示模块变量或函数是protected的(使用import * from时不会包含).</li>
<li>用双下划线(__)开头的实例变量或方法表示类内私有.</li>
<li>将相关的类和顶级函数放在同一个模块里. 不像Java, 没必要限制一个类一个模块.</li>
<li>对类名使用大写字母开头的单词(如CapWords, 即Pascal风格), 但是模块名应该用小写加下划线的方式(如lower_with_under.py). 尽管已经有很多现存的模块使用类似于CapWords.py这样的命名, 但现在已经不鼓励这样做, 因为如果模块名碰巧和类名一致, 这会让人困扰.</li>
</ul>
<h4 id="16main">16.Main</h4>
<p>在Python中, pydoc以及单元测试要求模块必须是可导入的. 你的代码应该在执行主程序前总是检查 if <strong>name</strong> == '<strong>main</strong>' , 这样当模块被导入时主程序就不会被执行.</p>

            </div>
            
            
              <div class="next-post">
                <div class="next">下一篇</div>
                <a href="https://currydai.com/post/ji-qi-xue-xi-ji-qi-xue-xi-yu-shen-du-xue-xi-gao-ji-xun-lian-ying/">
                  <h3 class="post-title">
                    【机器学习】机器学习与深度学习高级训练营
                  </h3>
                </a>
              </div>
            

            
              
                <div id="gitalk-container" data-aos="fade-in"></div>
              

              
            

          </div>

        </div>
      </div>
    </div>

    <script src="https://unpkg.com/aos@next/dist/aos.js"></script>
<script type="application/javascript">

AOS.init();

var app = new Vue({
  el: '#app',
  data: {
    menuVisible: false,
  },
})

</script>


  <script src="https://cdn.bootcss.com/highlight.js/9.12.0/highlight.min.js"></script>
  <script>
    hljs.initHighlightingOnLoad()
  </script>




  
    <script src="https://unpkg.com/gitalk/dist/gitalk.min.js"></script>
    <script>

      var gitalk = new Gitalk({
        clientID: 'e9e2094cbb62d2e4fdf8',
        clientSecret: 'e5f1fea8e3bc04931ca74fe4afd2051bc907e2b0',
        repo: 'blog-comments',
        owner: 'currydai',
        admin: ['currydai'],
        id: (location.pathname).substring(0, 49),      // Ensure uniqueness and length less than 50
        distractionFreeMode: false  // Facebook-like distraction free mode
      })

      gitalk.render('gitalk-container')

    </script>
  

  




  </body>
</html>
